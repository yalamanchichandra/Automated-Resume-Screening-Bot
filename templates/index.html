<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Resume Screening Bot</title>
<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Share+Tech+Mono&family=Rajdhani:wght@300;400;500;600&display=swap" rel="stylesheet">
<style>
/* ============================================================
   RESET
   ============================================================ */
*, *::before, *::after {
  margin: 0; padding: 0; box-sizing: border-box;
}

/* ============================================================
   VARS
   ============================================================ */
:root {
  --bg:          #020408;
  --surface:     #0a0e18;
  --surface2:    #0f1420;
  --border:      #1a2235;
  --cyan:        #00e5ff;
  --cyan-dim:    rgba(0,229,255,.08);
  --cyan-mid:    rgba(0,229,255,.18);
  --cyan-glow:   rgba(0,229,255,.35);
  --magenta:     #ff2d9b;
  --mag-dim:     rgba(255,45,155,.1);
  --mag-glow:    rgba(255,45,155,.3);
  --white:       #e2e8f0;
  --white-dim:   #4a5568;
  --red:         #ff3b3b;
  --red-dim:     rgba(255,59,59,.12);
  --radius:      10px;
  --trans:       .3s cubic-bezier(.4,0,.2,1);
}

/* ============================================================
   BASE
   ============================================================ */
html { scroll-behavior: smooth; }
body {
  font-family: 'Rajdhani', sans-serif;
  background: var(--bg);
  color: var(--white);
  min-height: 100vh;
  overflow-x: hidden;
  -webkit-font-smoothing: antialiased;
}

/* ============================================================
   ANIMATED GRID BACKGROUND
   ============================================================ */
.bg-grid {
  position: fixed; inset: 0; z-index: 0;
  background:
    linear-gradient(rgba(0,229,255,.03) 1px, transparent 1px),
    linear-gradient(90deg, rgba(0,229,255,.03) 1px, transparent 1px);
  background-size: 60px 60px;
  animation: gridMove 20s linear infinite;
  mask-image: radial-gradient(ellipse 70% 70% at 50% 40%, #000 20%, transparent 75%);
  -webkit-mask-image: radial-gradient(ellipse 70% 70% at 50% 40%, #000 20%, transparent 75%);
}
@keyframes gridMove {
  0%   { background-position: 0 0; }
  100% { background-position: 60px 60px; }
}

/* Scanlines */
.scanlines {
  position: fixed; inset: 0; z-index: 1;
  pointer-events: none;
  background: repeating-linear-gradient(
    0deg,
    transparent,
    transparent 2px,
    rgba(0,0,0,.04) 2px,
    rgba(0,0,0,.04) 4px
  );
}

/* Ambient blobs */
.blob {
  position: fixed; border-radius: 50%; filter: blur(120px); z-index: 0;
  pointer-events: none; opacity: .18;
}
.blob-1 { width:500px; height:500px; background: var(--cyan); top:-180px; left:-140px; animation: blobFloat 8s ease-in-out infinite alternate; }
.blob-2 { width:400px; height:400px; background: var(--magenta); bottom:-100px; right:-120px; animation: blobFloat 10s ease-in-out infinite alternate-reverse; }
.blob-3 { width:260px; height:260px; background: var(--cyan); top:50%; left:60%; animation: blobFloat 12s ease-in-out infinite alternate; }
@keyframes blobFloat {
  0%   { transform: translate(0,0) scale(1); }
  100% { transform: translate(30px,-40px) scale(1.08); }
}

/* ============================================================
   LAYOUT
   ============================================================ */
.page {
  position: relative; z-index: 2;
  max-width: 780px;
  margin: 0 auto;
  padding: 70px 24px 120px;
}

/* ============================================================
   HEADER
   ============================================================ */
.header {
  text-align: center;
  margin-bottom: 80px;
  position: relative;
}

/* Corner accents */
.header::before, .header::after {
  content: '';
  position: absolute;
  width: 40px; height: 40px;
  border-color: var(--cyan); border-style: solid;
  opacity: .45;
  animation: cornerPulse 3s ease-in-out infinite alternate;
}
.header::before { top: -12px; left: 50%; transform: translateX(-50%) translateX(-220px); border-width: 2px 0 0 2px; }
.header::after  { top: -12px; left: 50%; transform: translateX(-50%) translateX(220px);  border-width: 2px 2px 0 0; }

@keyframes cornerPulse { 0% { opacity:.25; } 100% { opacity:.6; } }

.header-line {
  display: flex; align-items: center; justify-content: center; gap: 14px;
  margin-bottom: 28px;
}
.header-line .line {
  width: 60px; height: 1px;
  background: linear-gradient(90deg, transparent, var(--cyan));
}
.header-line .line:last-child {
  background: linear-gradient(270deg, transparent, var(--cyan));
}
.header-line .dot {
  width: 6px; height: 6px; border-radius: 50%;
  background: var(--cyan);
  box-shadow: 0 0 8px var(--cyan-glow), 0 0 20px var(--cyan-dim);
  animation: dotPulse 2s ease-in-out infinite;
}
@keyframes dotPulse {
  0%,100% { box-shadow: 0 0 6px var(--cyan-glow), 0 0 16px var(--cyan-dim); }
  50%     { box-shadow: 0 0 14px var(--cyan-glow), 0 0 36px var(--cyan-mid); }
}

.badge {
  display: inline-block;
  font-family: 'Share Tech Mono', monospace;
  font-size: .68rem;
  letter-spacing: .22em;
  text-transform: uppercase;
  color: var(--cyan);
  border: 1px solid rgba(0,229,255,.25);
  border-radius: 4px;
  padding: 5px 14px;
  margin-bottom: 22px;
  position: relative;
  overflow: hidden;
  animation: fadeDown .7s .05s both;
}
.badge::before {
  content:'';
  position: absolute;
  top: 0; left: -100%;
  width: 60%; height: 100%;
  background: linear-gradient(90deg, transparent, rgba(0,229,255,.12), transparent);
  animation: badgeSweep 3s ease-in-out infinite;
}
@keyframes badgeSweep {
  0%   { left: -100%; }
  100% { left: 200%; }
}

.header h1 {
  font-family: 'Orbitron', sans-serif;
  font-size: 3.2rem;
  font-weight: 900;
  letter-spacing: .04em;
  line-height: 1.15;
  text-transform: uppercase;
  animation: fadeDown .7s .12s both;
  position: relative; display: inline-block;
}
.header h1 .line1 { display: block; color: var(--white); }
.header h1 .line2 {
  display: block;
  background: linear-gradient(90deg, var(--cyan), var(--magenta), var(--cyan));
  background-size: 200% 100%;
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  animation: gradientShift 4s ease infinite;
  filter: drop-shadow(0 0 18px rgba(0,229,255,.3));
}
@keyframes gradientShift {
  0%   { background-position: 0% 50%; }
  50%  { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}

.header p {
  font-family: 'Share Tech Mono', monospace;
  font-size: .74rem;
  color: var(--white-dim);
  margin-top: 18px;
  letter-spacing: .12em;
  animation: fadeDown .7s .2s both;
}

/* ============================================================
   SECTION
   ============================================================ */
.section { margin-bottom: 38px; }
.section-label {
  display: flex; align-items: center; gap: 12px;
  margin-bottom: 14px;
}
.section-label .tag {
  font-family: 'Share Tech Mono', monospace;
  font-size: .64rem;
  letter-spacing: .2em;
  text-transform: uppercase;
  color: var(--cyan);
  border-left: 2px solid var(--cyan);
  padding-left: 10px;
  position: relative;
}
.section-label .tag::after {
  content: attr(data-num);
  position: absolute;
  right: -28px; top: -6px;
  font-size: .55rem;
  color: var(--cyan);
  opacity: .4;
}

/* ============================================================
   TEXTAREA
   ============================================================ */
.input-wrap {
  position: relative;
  border-radius: var(--radius);
  overflow: hidden;
}
.input-wrap::before {
  content:'';
  position: absolute; inset: 0;
  border-radius: var(--radius);
  padding: 1.5px;
  background: linear-gradient(135deg, var(--cyan), var(--border) 40%, var(--border) 60%, var(--magenta));
  -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
  -webkit-mask-composite: xor;
  mask-composite: exclude;
  pointer-events: none;
  opacity: .5;
  transition: opacity var(--trans);
}
.input-wrap:focus-within::before { opacity: 1; }

textarea {
  position: relative; z-index: 1;
  width: 100%;
  min-height: 190px;
  padding: 20px 22px;
  background: var(--surface);
  border: none;
  border-radius: var(--radius);
  color: var(--white);
  font-family: 'Share Tech Mono', monospace;
  font-size: .78rem;
  line-height: 1.8;
  resize: vertical;
  outline: none;
  caret-color: var(--cyan);
}
textarea::placeholder { color: var(--white-dim); opacity: .4; }

/* ============================================================
   DROPZONE
   ============================================================ */
.dropzone {
  position: relative;
  border: 1.5px dashed var(--border);
  border-radius: var(--radius);
  background: var(--surface);
  padding: 50px 24px;
  text-align: center;
  cursor: pointer;
  transition: border-color var(--trans), background var(--trans), box-shadow var(--trans);
  overflow: hidden;
}
.dropzone::before {
  content:'';
  position: absolute;
  top: -50%; left: -50%;
  width: 200%; height: 200%;
  background: radial-gradient(ellipse at center, rgba(0,229,255,.04) 0%, transparent 65%);
  pointer-events: none;
  transition: opacity var(--trans);
  opacity: 0;
}
.dropzone:hover::before,
.dropzone.drag-over::before { opacity: 1; }

.dropzone:hover,
.dropzone.drag-over {
  border-color: var(--cyan);
  box-shadow: 0 0 20px var(--cyan-dim), inset 0 0 40px var(--cyan-dim);
}
.dropzone input { display: none; }

.dz-icon-wrap {
  width: 56px; height: 56px;
  margin: 0 auto 18px;
  border-radius: 12px;
  border: 1.5px solid var(--border);
  background: var(--surface2);
  display: flex; align-items: center; justify-content: center;
  position: relative;
  transition: border-color var(--trans), box-shadow var(--trans);
}
.dropzone:hover .dz-icon-wrap {
  border-color: var(--cyan);
  box-shadow: 0 0 14px var(--cyan-dim);
}
.dz-icon { font-size: 1.6rem; }

.dz-text { font-size: .82rem; color: var(--white-dim); }
.dz-text strong { color: var(--cyan); font-weight: 600; }
.dz-sub {
  font-family: 'Share Tech Mono', monospace;
  font-size: .62rem;
  color: var(--white-dim);
  opacity: .38;
  margin-top: 6px;
  letter-spacing: .08em;
}

/* ============================================================
   FILE COUNTER
   ============================================================ */
.file-counter {
  display: flex; align-items: center; justify-content: space-between;
  margin-top: 16px;
  font-family: 'Share Tech Mono', monospace;
  font-size: .64rem;
  color: var(--white-dim);
  letter-spacing: .1em;
}
.counter-bar {
  display: flex; gap: 3px;
}
.counter-pip {
  width: 18px; height: 3px;
  border-radius: 2px;
  background: var(--border);
  transition: background .3s ease;
}
.counter-pip.active { background: var(--cyan); box-shadow: 0 0 6px var(--cyan-dim); }

/* ============================================================
   FILE CHIPS
   ============================================================ */
.file-list { display: flex; flex-wrap: wrap; gap: 8px; margin-top: 16px; }
.file-chip {
  display: flex; align-items: center; gap: 10px;
  background: var(--surface2);
  border: 1px solid var(--border);
  border-radius: 6px;
  padding: 8px 6px 8px 14px;
  font-family: 'Share Tech Mono', monospace;
  font-size: .7rem;
  color: var(--white);
  animation: chipSlideIn .3s var(--trans) both;
  transition: border-color var(--trans), box-shadow var(--trans);
  position: relative;
  overflow: hidden;
}
.file-chip::before {
  content:'';
  position: absolute;
  left: 0; top: 0; bottom: 0;
  width: 2px;
  background: var(--cyan);
  box-shadow: 0 0 8px var(--cyan-glow);
}
.file-chip:hover {
  border-color: rgba(0,229,255,.3);
  box-shadow: 0 0 10px var(--cyan-dim);
}
.chip-dot {
  width: 5px; height: 5px; border-radius: 50%;
  background: var(--cyan);
  box-shadow: 0 0 5px var(--cyan-glow);
  flex-shrink: 0;
}
.chip-name { max-width: 160px; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; }
.chip-rm {
  background: none; border: 1px solid var(--border);
  color: var(--white-dim);
  width: 20px; height: 20px; border-radius: 4px;
  cursor: pointer; display: flex; align-items: center; justify-content: center;
  font-size: .7rem;
  transition: border-color var(--trans), color var(--trans), background var(--trans);
}
.chip-rm:hover { border-color: var(--red); color: var(--red); background: var(--red-dim); }

/* ============================================================
   BUTTON
   ============================================================ */
.btn-row { text-align: center; margin-top: 52px; }
.btn-screen {
  position: relative;
  display: inline-flex; align-items: center; gap: 12px;
  background: transparent;
  border: none;
  color: var(--bg);
  padding: 16px 48px;
  font-family: 'Orbitron', sans-serif;
  font-size: .72rem;
  font-weight: 700;
  letter-spacing: .2em;
  text-transform: uppercase;
  cursor: pointer;
  overflow: hidden;
  border-radius: 6px;
  z-index: 1;
}
.btn-screen::before {
  content:'';
  position: absolute; inset: 0;
  border-radius: 6px;
  padding: 1.5px;
  background: linear-gradient(90deg, var(--cyan), var(--magenta), var(--cyan));
  background-size: 200% 100%;
  animation: btnBorderShift 2s linear infinite;
  -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
  -webkit-mask-composite: xor;
  mask-composite: exclude;
  z-index: -1;
}
@keyframes btnBorderShift {
  0%   { background-position: 0% 50%; }
  100% { background-position: 200% 50%; }
}
.btn-screen::after {
  content:'';
  position: absolute; inset: 1.5px;
  border-radius: 5px;
  background: linear-gradient(135deg, var(--cyan), #00bcd4);
  z-index: -1;
  transition: filter var(--trans);
}
.btn-screen:hover::after { filter: brightness(1.15) drop-shadow(0 0 16px var(--cyan-glow)); }
.btn-screen:active { transform: scale(.97); }
.btn-screen .btn-text { position: relative; z-index: 1; color: var(--bg); }
.btn-screen .btn-arrow {
  position: relative; z-index: 1;
  color: var(--bg);
  font-size: 1rem;
  transition: transform var(--trans);
}
.btn-screen:hover .btn-arrow { transform: translateX(5px); }

/* ============================================================
   LOADER
   ============================================================ */
.loader { display: none; text-align: center; padding: 60px 0; }
.loader.active { display: block; animation: fadeDown .3s both; }

.loader-hex {
  width: 60px; height: 60px;
  margin: 0 auto 24px;
  position: relative;
}
.loader-hex svg { width: 100%; height: 100%; }
.loader-hex .hex-ring {
  fill: none; stroke: var(--border); stroke-width: 2;
}
.loader-hex .hex-spin {
  fill: none; stroke: var(--cyan); stroke-width: 2;
  stroke-linecap: round;
  stroke-dasharray: 80 200;
  animation: hexSpin 1.2s linear infinite;
  filter: drop-shadow(0 0 4px var(--cyan-glow));
}
@keyframes hexSpin {
  0%   { stroke-dashoffset: 0; }
  100% { stroke-dashoffset: -280; }
}
.loader-text {
  font-family: 'Share Tech Mono', monospace;
  font-size: .7rem;
  letter-spacing: .25em;
  text-transform: uppercase;
  color: var(--cyan);
  opacity: .7;
}
.loader-dots {
  display: inline-block;
}
.loader-dots span {
  display: inline-block;
  animation: dotBlink 1.2s ease-in-out infinite;
}
.loader-dots span:nth-child(2) { animation-delay: .2s; }
.loader-dots span:nth-child(3) { animation-delay: .4s; }
@keyframes dotBlink {
  0%,80%,100% { opacity: .15; }
  40%         { opacity: 1; }
}

/* ============================================================
   ERROR
   ============================================================ */
.error {
  display: none;
  border: 1px solid rgba(255,59,59,.25);
  border-left: 3px solid var(--red);
  background: var(--red-dim);
  color: var(--red);
  padding: 14px 18px;
  border-radius: var(--radius);
  font-family: 'Share Tech Mono', monospace;
  font-size: .72rem;
  margin-top: 22px;
  letter-spacing: .04em;
}
.error.active { display: block; animation: fadeDown .25s both; }

/* ============================================================
   RESULTS
   ============================================================ */
.results { display: none; margin-top: 56px; }
.results.active { display: block; animation: fadeDown .4s both; }
.results-header {
  display: flex; align-items: center; gap: 14px;
  margin-bottom: 24px;
}
.results-header .rh-line {
  flex: 1; height: 1px;
  background: linear-gradient(90deg, var(--border), transparent);
}
.results-header .rh-title {
  font-family: 'Orbitron', sans-serif;
  font-size: .72rem;
  font-weight: 700;
  letter-spacing: .22em;
  text-transform: uppercase;
  color: var(--cyan);
  white-space: nowrap;
}
.results-header .rh-dot {
  width: 5px; height: 5px; border-radius: 50%;
  background: var(--cyan);
  box-shadow: 0 0 6px var(--cyan-glow);
}

.result-card {
  position: relative;
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: var(--radius);
  padding: 22px 24px;
  margin-bottom: 10px;
  display: flex; align-items: center; gap: 22px;
  transition: border-color var(--trans), box-shadow var(--trans), transform var(--trans);
  animation: cardIn .4s var(--trans) both;
  overflow: hidden;
}
.result-card::before {
  content:'';
  position: absolute;
  left: 0; top: 0; bottom: 0;
  width: 3px;
  background: linear-gradient(180deg, var(--cyan), var(--magenta));
  box-shadow: 2px 0 12px var(--cyan-dim);
}
.result-card:hover {
  border-color: rgba(0,229,255,.25);
  box-shadow: 0 0 20px var(--cyan-dim);
  transform: translateX(4px);
}

.result-score {
  flex-shrink: 0;
  width: 64px; height: 64px;
  position: relative;
  display: flex; align-items: center; justify-content: center;
}
.result-score svg { position: absolute; inset: 0; width: 100%; height: 100%; }
.score-bg { fill: none; stroke: var(--border); stroke-width: 3; }
.score-fill { fill: none; stroke: var(--cyan); stroke-width: 3; stroke-linecap: round; filter: drop-shadow(0 0 4px var(--cyan-glow)); }
.score-val {
  position: relative; z-index: 1;
  font-family: 'Orbitron', sans-serif;
  font-size: .78rem;
  font-weight: 700;
  color: var(--cyan);
}

.result-info { flex: 1; min-width: 0; }
.result-name {
  font-family: 'Rajdhani', sans-serif;
  font-size: .92rem;
  font-weight: 600;
  color: var(--white);
  white-space: nowrap; overflow: hidden; text-overflow: ellipsis;
}
.result-snippet {
  font-family: 'Share Tech Mono', monospace;
  font-size: .66rem;
  color: var(--white-dim);
  margin-top: 4px;
  line-height: 1.6;
  opacity: .6;
}

/* ============================================================
   KEYFRAMES
   ============================================================ */
@keyframes fadeDown {
  from { opacity: 0; transform: translateY(-16px); }
  to   { opacity: 1; transform: translateY(0); }
}
@keyframes chipSlideIn {
  from { opacity: 0; transform: translateX(-12px); }
  to   { opacity: 1; transform: translateX(0); }
}
@keyframes cardIn {
  from { opacity: 0; transform: translateY(10px); }
  to   { opacity: 1; transform: translateY(0); }
}
</style>
</head>
<body>

<!-- BACKGROUND LAYERS -->
<div class="bg-grid"></div>
<div class="scanlines"></div>
<div class="blob blob-1"></div>
<div class="blob blob-2"></div>
<div class="blob blob-3"></div>

<!-- PAGE -->
<div class="page">

  <!-- HEADER -->
  <header class="header">
    <div class="header-line">
      <span class="line"></span>
      <span class="dot"></span>
      <span class="line"></span>
    </div>
    <div class="badge">AI-Powered // Resume Analysis</div>
    <h1>
      <span class="line1">Resume</span>
      <span class="line2">Screening</span>
    </h1>
    <p>[ CANDIDATE EVALUATION SYSTEM ]</p>
  </header>

  <form id="screeningForm">

    <!-- JOB DESCRIPTION -->
    <div class="section" style="animation: fadeDown .55s .28s both; opacity:0;">
      <div class="section-label">
        <span class="tag" data-num="01">Job Description</span>
      </div>
      <div class="input-wrap">
        <textarea id="jdText" name="jd_text"
          placeholder="// Paste job description here…" required></textarea>
      </div>
    </div>

    <!-- UPLOAD -->
    <div class="section" style="animation: fadeDown .55s .38s both; opacity:0;">
      <div class="section-label">
        <span class="tag" data-num="02">Upload Resumes</span>
      </div>
      <div class="dropzone" id="dropzone">
        <input type="file" id="resumeFiles" multiple>
        <div class="dz-icon-wrap">
          <span class="dz-icon">⬆</span>
        </div>
        <div class="dz-text"><strong>Drop files here</strong> or click to browse</div>
        <div class="dz-sub">PDF · DOC · DOCX &nbsp;—&nbsp; MAX 10 FILES</div>
      </div>
      <div class="file-counter">
        <span id="fileCount">0 / 10 FILES LOADED</span>
        <div class="counter-bar" id="counterBar"></div>
      </div>
      <div class="file-list" id="fileList"></div>
    </div>

    <!-- SUBMIT -->
    <div class="btn-row" style="animation: fadeDown .55s .48s both; opacity:0;">
      <button class="btn-screen" type="submit">
        <span class="btn-text">Initialize Screening</span>
        <span class="btn-arrow">→</span>
      </button>
    </div>

  </form>

  <!-- LOADER -->
  <div class="loader" id="loader">
    <div class="loader-hex">
      <svg viewBox="0 0 60 60">
        <polygon class="hex-ring" points="30,4 56,18 56,42 30,56 4,42 4,18"/>
        <polygon class="hex-spin" points="30,4 56,18 56,42 30,56 4,42 4,18"/>
      </svg>
    </div>
    <div class="loader-text">Scanning Resumes <span class="loader-dots"><span>.</span><span>.</span><span>.</span></span></div>
  </div>

  <!-- ERROR -->
  <div class="error" id="error"></div>

  <!-- RESULTS -->
  <div class="results" id="results">
    <div class="results-header">
      <span class="rh-dot"></span>
      <span class="rh-title">Analysis Complete</span>
      <span class="rh-line"></span>
    </div>
    <div id="resultsContent"></div>
  </div>

</div>

<script>
// ====== STATE ======
let files = [];

// ====== REFS ======
const dropzone  = document.getElementById('dropzone');
const input     = document.getElementById('resumeFiles');
const fileList  = document.getElementById('fileList');
const fileCount = document.getElementById('fileCount');
const counterBar= document.getElementById('counterBar');
const loader    = document.getElementById('loader');
const results   = document.getElementById('results');
const content   = document.getElementById('resultsContent');
const error     = document.getElementById('error');

// ====== BUILD PIPS ======
(function buildPips() {
  for (let i = 0; i < 10; i++) {
    const pip = document.createElement('div');
    pip.className = 'counter-pip';
    pip.id = 'pip-' + i;
    counterBar.appendChild(pip);
  }
})();

// ====== DRAG & DROP ======
dropzone.addEventListener('click', () => input.click());
input.addEventListener('change', e => addFiles(e.target.files));

dropzone.addEventListener('dragover', e => { e.preventDefault(); dropzone.classList.add('drag-over'); });
dropzone.addEventListener('dragleave', e => { e.preventDefault(); dropzone.classList.remove('drag-over'); });
dropzone.addEventListener('drop', e => { e.preventDefault(); dropzone.classList.remove('drag-over'); addFiles(e.dataTransfer.files); });

// ====== FILES ======
function addFiles(newFiles) {
  for (const f of newFiles) {
    if (files.length < 10) files.push(f);
  }
  renderFiles();
}

function renderFiles() {
  fileList.innerHTML = '';
  fileCount.textContent = `${files.length} / 10 FILES LOADED`;

  // update pips
  for (let i = 0; i < 10; i++) {
    document.getElementById('pip-' + i).className = 'counter-pip' + (i < files.length ? ' active' : '');
  }

  files.forEach((f, i) => {
    const chip = document.createElement('div');
    chip.className = 'file-chip';
    chip.style.animationDelay = (i * 0.05) + 's';
    chip.innerHTML = `
      <span class="chip-dot"></span>
      <span class="chip-name">${f.name}</span>
      <button class="chip-rm" onclick="removeFile(${i})" title="Remove">✕</button>
    `;
    fileList.appendChild(chip);
  });
}

function removeFile(i) { files.splice(i, 1); renderFiles(); }

// ====== SUBMIT (original logic preserved) ======
document.getElementById('screeningForm').onsubmit = async e => {
  e.preventDefault();
  if (files.length === 0) return showError('⚠ No files detected — upload at least one resume to proceed.');

  loader.classList.add('active');
  results.classList.remove('active');
  error.classList.remove('active');

  const fd = new FormData();
  fd.append('jd_text', document.getElementById('jdText').value);
  files.forEach(f => fd.append('resumes', f));

  const res  = await fetch('/analyze', { method: 'POST', body: fd });
  const html = await res.text();

  document.open();
  document.write(html);
  document.close();
};

function showError(msg) {
  error.textContent = msg;
  error.classList.add('active');
}
</script>
</body>
</html>